<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<body>
...
<a th:fragment="shopping-cart-button">

    <th:block th:if="${#request.getRemoteUser() != null}">
        <a class="btn btn-success btn-sm ml-3" href="/shopping-cart">
            <i class="fas fa-shopping-cart"></i> Cart
            <span class="badge badge-light" id="numberOfBalloonsInCurrentUserShoppingCart">  </span>
        </a>
    </th:block>
    <script>
        document.onload(getNumberOfBalloonsInCurrentUserShoppingCart());

        async function getNumberOfBalloonsInCurrentUserShoppingCart() {
            let response = await fetch('/api/shopping-cart/items');
            document.getElementById("numberOfBalloonsInCurrentUserShoppingCart").textContent = await response.json();
        }
    </script>
</a>
</body>
</html>